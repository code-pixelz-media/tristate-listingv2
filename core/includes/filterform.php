<div class="filter-wrapper" id="filter-wrapper">
  <div class="MuiBox-root">
    <div class="left-content">
      <div class="Filterform">
        <div class="MuiBox-root">
          <div class="MuiFormControl-root MuiTextField-root css-i44wyl">
            <input aria-invalid="false" id="tristate-input" placeholder="Filter by text ..." type="text" class="MuiInputBase-input MuiOutlinedInput-input css-1x5jdmq">
          </div>
          <div><label>Agents</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL" data-uid="1,2">Alabama</option>
              <option value="WY" data-uid="1,3">Wyoming</option>
            </select>
          </div>
          <div><label>Uses</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL" data-uses="1,2">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div><label>Types</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div><label>Neighbourhoods</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div><label>Zip Codes</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div><label>Cities</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div><label>State</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div><label>Vented</label>
            <select class="js-example-basic-multiple" name="states[]" multiple="multiple">
              <option value="AL">Alabama</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div>
          <div class="slider-box">
            <label for="priceRange">Price :</label>
            <input type="text" id="priceRange" readonly>
            <div id="price-range" class="slider"></div>

          </div>
          </div>
          <div>
          <div class="slider-box">
            <label for="priceRange">Size:</label>
            <input type="text" id="priceRange2" readonly>
            <div id="price-range2" class="slider"></div>

          </div>
          </div>
          <div>
          <div class="slider-box">
            <label for="priceRange">Rent:</label>
            <input type="text" id="priceRange3" readonly>
            <div id="price-range3" class="slider"></div>

          </div>
          </div>
          <div class="price-range-btm">
  <div class="MuiBox-root css-69324s">
    <div>
      <button tabindex="0" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-1hw9j7s"> Save to a new map layer <span class="MuiTouchRipple-root css-w0pj6f"></span>
      </button>
    </div>
  </div>
  <div class="MuiBox-root css-69324s">
    <div>
      <button tabindex="0" type="button" class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary bg-red css-1hw9j7s color-white"> Clear Filter <span class="MuiTouchRipple-root css-w0pj6f"></span>
      </button>
    </div>
  </div>
</div>
        </div>
      </div>
    </div>
    <div class="right-content">
      <div class="right-map">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d407542.86304287874!2d-74.32724652492182!3d40.69942908913206!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2snp!4v1711702301417!5m2!1sen!2snp" allowfullscreen="allowFullScreen" width="100%" height="600px" style="position: relative; display: block;"></iframe>
      </div>
      <div class="property-list-wrapper">
        <div class="MuiBox-root">
          <div class="MuiStack-root property-filter css-12xuzbq">

            <!-- -------------------------- -->
            <?php
            $properties_posts = get_posts(array(
              'post_type' => 'properties', // Specify the post type
              'posts_per_page' => -6, // Retrieve all posts of the specified post type
              // Add any additional arguments as needed
            ));
            // echo '<pre>';
            // var_dump($properties_posts);
            // echo '</pre>';
            // Check if there are any posts
            if ($properties_posts) {
              // Iterate through each post using a foreach loop
              foreach ($properties_posts as $post) {



                /*  -------------------Start Meta data---------------- */


                $ID               = $post->ID;
                $buildout_id       = (int) get_post_meta($ID, '_buildout_id', true);
                $title             = get_post_meta($ID, '_buildout_sale_listing_web_title', true);
                $subtitle         = implode(', ', array(get_post_meta($ID, '_buildout_city', true), get_post_meta($ID, '_buildout_county', true), get_post_meta($ID, '_buildout_state', true)));
                $badges           = array(
                  'use'         => get_post_meta($ID, '_gsheet_use', true),
                  'type'         => get_post_meta($ID, '_gsheet_listing_type', true),
                  'price_sf'     => get_post_meta($ID, '_gsheet_price_sf', true),
                  'commission'   => get_post_meta($ID, '_gsheet_commission', true)
                );
                $_use             = get_post_meta($ID, '_gsheet_use', true);
                $_type             = get_post_meta($ID, '_gsheet_listing_type', true);
                $_price_sf         = get_post_meta($ID, '_gsheet_price_sf', true);
                $_price_sf         = preg_replace('/\.[0-9]+/', '', $_price_sf);
                $_price_sf         = (int) preg_replace('/[^0-9]/', '', $_price_sf);
                $_commission       = get_post_meta($ID, '_gsheet_commission', true);
                $summary           = get_post_meta($ID, '_buildout_location_description', true);
                $min_size         = get_post_meta($ID, '_gsheet_min_size', true);
                $max_size         = get_post_meta($ID, '_gsheet_max_size', true);
                $size             = $min_size ?? $max_size;
                $size             = preg_replace('/\.[0-9]+/', '', $size);
                $size             = (int) preg_replace('/[^0-9]/', '', $size);
                $zoning           = get_post_meta($ID, '_buildout_zoning', true);
                $key_tag           = get_post_meta($ID, '_gsheet_key_tag', true);
                //$agents           = (array) new_tristatectr_get_brokers_with_excluded(get_post_meta($ID, '_buildout_broker_ids', true));
                $_agent           = get_post_meta($ID, '_gsheet_listing_agent', true);
                $lease_out         = get_post_meta($ID, '_gsheet_lease_out', true);

                $lease_conditions = get_post_meta($ID, '_buildout_lease_description', true);
                $lease_conditions = get_post_meta($ID, '_gsheet_lease_conditions', true);

                $bo_price         = empty(get_post_meta($ID, '_buildout_sale_price_dollars', true)) ? 0 : get_post_meta($ID, '_buildout_sale_price_dollars', true);
                $price             = get_post_meta($ID, '_gsheet_monthly_rent', true);
                // Remove fractional units from the price
                $_price           = preg_replace('/\.[0-9]+/', '', $price);
                // Convert the price to integer value
                $_price = (int) preg_replace('/[^0-9]/', '', $_price);
                $more_info         = get_post_meta($ID, '_gsheet_link_to_more_info', true);
                $more_info         = get_post_meta($ID, '_buildout_sale_listing_url', true) ?? get_post_meta($ID, '_buildout_lease_listing_url', true);
                $tour3d           = get_post_meta($ID, '_gsheet_3d_tour', true);
                $tour3d           = get_post_meta($ID, '_buildout_matterport_url', true);
                $youtube_url       = get_post_meta($ID, '_buildout_you_tube_url', true);
                $zip               = get_post_meta($ID, '_gsheet_zip', true) ?? get_post_meta($ID, '_buildout_zip', true);
                $neighborhood     = get_post_meta($ID, '_gsheet_neighborhood', true);
                $vented           = get_post_meta($ID, '_gsheet_vented', true);
                $city             = get_post_meta($ID, '_buildout_city', true);
                $borough           = get_post_meta($ID, '_gsheet_borough', true);
                $state             = get_post_meta($ID, '_gsheet_state', true);



                /*  -------------------END Meta data---------------- */


            ?>

                <div class="propertylisting-content">
                  <h2><?php
                      echo $post->post_title; ?></h2>
                  <h4>Astoria</h4>
                  <div class="css-ajk2hm">
                    <ul class="ul-buttons">
                      <li class="bg-blue"><span>Retail</span></li>
                      <li class="bg-green">
                        <span>For Lease</span>
                      </li>
                      <li class="bg-yellow"><span>$60.00/SF</span></li>
                    </ul>
                    <ul class="ul-content">
                      <li>
                        <p>Open floor plan</p>
                      </li>
                      <li>
                        <p>Built out F&amp;B</p>
                      </li>
                      <li>
                        <p>Large glass window</p>
                      </li>
                      <li>
                        <p>Natural Light</p>
                      </li>
                      <li>
                        <p>Tremendous signage &amp; branding opportunity on Veron Blvd</p>
                      </li>
                      <li>
                        <p>Groudn level: 1,4000SF</p>
                      </li>
                      <li>
                        <p>all uses considered - F&amp;B or fitness is preferred</p>
                      </li>
                    </ul>
                    <ul class="ul-content ul-features">
                      <li>
                        <p>Min Size: <span><?php echo $min_size; ?></span></p>
                      </li>
                      <li>
                        <p>Max Size: <span><?php echo $max_size; ?></span></p>
                      </li>
                      <li>
                        <p>Zoning <span><?php echo $zoning; ?></span></p>
                      </li>
                      <li>
                        <p>Key Tag: <span>Call Mike: 917-838-5686</span></p>
                      </li>
                      <li>
                        <p>Listing Agent: <span>Richard Babeck</span></p>
                      </li>
                      <li>
                        <p>Vented: <span>YES</span></p>
                      </li>
                      <li>
                        <p>Borough: <span>Queens</span></p>
                      </li>
                    </ul>
                    <p class="price"><?php echo '$' . $bo_price; ?></p>
                    <a href="#" class="MuiButton-colorPrimary"> More Info </a>
                  </div>
                </div>
            <?php }
              // Reset post data
              wp_reset_postdata();
            }
            ?>
            <!-- -------------------------- -->


          </div>
        </div>
      </div>
    </div>
  </div>
</div>